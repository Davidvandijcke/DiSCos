[{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Empirical Application in Gunsilius (2023)","text":"vignette demonstrates use DiSCo package way empirical application Gunsilius (2023), based Dube (2019). illustrate use two main functions: 1) DiSCo, estimates raw distributional counterfactuals, computes confidence intervals, optionally performs permutation test; 2) DiSCoTEA, “Treatment Effect Aggregator”, takes distributional counterfactuals computes aggregate treatment effects using user-specified aggregation statistic.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"distributional-synthetic-controls","dir":"Articles","previous_headings":"","what":"Distributional Synthetic Controls","title":"Empirical Application in Gunsilius (2023)","text":"briefly review main idea behind Distributional Synthetic Controls. Denote \\(Y_{jt,N}\\) outcome group \\(j\\) time period \\(t\\) absence intervention. Also denote \\(Y_{jt,}\\) outcome presence intervention time \\(t > T_0\\). Denote quantile function, \\[ F^{-1}(q):=\\inf _{y \\\\mathbb{R}}\\{F(y) \\geq q\\}, \\quad q \\(0,1), \\] \\(F(y)\\) corresponding cumulative distribution function. One unit \\(j=1\\) received treatment, units \\(j=2,\\ldots,J\\) . goal estimate counterfactual quantile function \\(F_{Y_{1 t}, N}^{-1}\\) treated unit received treatment optimally weighted average control units’ quantile functions, \\[ F_{Y_{1 t}, N}^{-1}(q)=\\sum_{j=2}^{J+1} \\lambda_j^* F_{Y_{j t}}^{-1}(q) \\quad \\text { } q \\(0,1) \\] practice, solving following optimization problem: \\[ \\vec{\\lambda}_t^*=\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}} \\int_0^1\\left|\\sum_{j=2}^{J+1} \\lambda_j F_{Y_{j t}}^{-1}(q)-F_{Y_{1 t}}^{-1}(q)\\right|^2 d q \\]gives optimal weight unit-period combination. problem can solved simple weighted regression, implemented DiSCo_weights_reg function. obtain overall optimal weights \\(\\vec{\\lambda}^*\\), take average optimal weights across periods.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Empirical Application in Gunsilius (2023)","text":"get coding, load data Dube (2019), available package. learn data, just type ?dube console. already renamed outcome, id, time variables y_col, id_col, time_col, respectively, required passing dataframe DiSCo command. also need set two following parameters: indicate id treated unit time period intervention, respectively. can now run DiSCo command:  chosen grid (G) 1000 quantile opted parallel computation 2 cores speed permutation test confidence intervals (CI set TRUE), calculate using 500 resamples (boots). also set seed explicitly function call, ensures reproducibility across parallel cores. returned disco object contains host information produced command. Typing ?DiSCoT console pulls help files lay precise structure returned object. now, just look estimated weights, ran DiSCo command, set permutation TRUE, runs permutation test described paper (see ?DiSCo_per details). allow us inspect permutation inference results . Already, setting graph TRUE, function displayed plot full distribution permutation tests. black solid line shows fit “true” synthetic control. fact diverge stronger lines gray treatment suggests treatment effect. context, y-axis squared Wasserstein distance counterfactual observed quantile functions, \\[ d_{t t}^2:=\\int_0^1\\left|F_{Y_{u t, N}}^{-1}(q)-F_{Y_{u t}}^{-1}(q)\\right|^2 d q \\], Abadie, Diamond, Hainmueller (2010) take ratio post- pre-intervention Wasserstein distance account variation pre-treatment fit across placebo tests, \\[ r_j=\\frac{R_j\\left(T_0+1, T\\right)}{R_j\\left(1, T_0\\right)} \\] calculate p-value permutation test , \\[ p=\\frac{1}{J+1} \\sum_{j=1}^{J+1} H\\left(r_j-r_1\\right), \\]\\(H(x)\\) Heaviside function 1 \\(x\\geq 0\\) 0 otherwise. p-value gives probability observing placebo test larger ratio true treatment effect. can retrieved calling p-value larger 0.05, confirms visual result plot , accounting potential differences pre-treatment fit across placebo units. Finally, can use DiSCo Treatment Effect Aggregator (DiSCoTEA) function aggregate resulting counterfactual quantile functions various treatment effect measures. example, can calculate difference counterfactual observed quantile functions follows.  Calling summary returned object prints table summarizing effects across distribution. can choose intervals quantiles aggregates using samples parameter. calculated permutation test confidence intervals DiSCo function, reported well. Setting graph TRUE also prints plot distribution differences time can focus specific years using t_plot parameter. can use parameters DiSCOTEA function adjust basic appearance plots, directly alter returned ggplot object stored returned DiSCoT object. Looking plot quantile differences, appear positive effects minimum wage increase household income upper quantile. seems little strange. first indication probably spurious result comes permutation test, reject hypothesis test effect.","code":"data(\"dube\") head(dube) #    time_col id_col     y_col # 1:     1998      1 2.7912171 # 2:     1998      1 0.1659509 # 3:     1998      1 1.6747302 # 4:     1998      1 2.0880055 # 5:     1998      1 3.6397150 # 6:     1998      1 1.8608114 id_col.target <- 2 t0 <- 2003 df <- copy(dube) disco <- DiSCo(df, id_col.target, t0, G = 1000, num.cores = 2, permutation = TRUE, CI = TRUE, boots = 1000, graph = TRUE, simplex=TRUE, seed=1) # Computing confidence intervals for period: 1998 # Computing confidence intervals for period: 1999 # Computing confidence intervals for period: 2000 # Computing confidence intervals for period: 2001 # Computing confidence intervals for period: 2002 # Computing confidence intervals for period: 2003 # Computing confidence intervals for period: 2004 # Starting permutation test...Permutation finished! # retrieve the weights weights <- disco$Weights_DiSCo_avg  # retrieve the control unit IDs  controls <- disco$control_ids  # store in a dataframe weights_df <- data.frame(weights = weights, fips = controls)  # merge with state fips codes (built into the maps package) weights_df <- merge(weights_df, maps::state.fips, by = \"fips\")  setorder(weights_df, -weights)  print(weights_df) #    fips       weights ssa region division abb              polyname # 12   24  1.186556e-01  21      3        5  MD              maryland # 34   51  1.008450e-01  49      3        5  VA   virginia:chesapeake # 35   51  1.008450e-01  49      3        5  VA         virginia:main # 36   51  1.008450e-01  49      3        5  VA virginia:chincoteague # 20   33  8.173559e-02  30      1        1  NH         new hampshire # 25   38  7.586657e-02  35      2        4  ND          north dakota # 18   31  7.351458e-02  28      2        4  NE              nebraska # 21   35  6.323485e-02  32      4        8  NM            new mexico # 4     8  5.865657e-02   6      4        8  CO              colorado # 29   45  5.372624e-02  42      3        5  SC        south carolina # 13   26  5.168543e-02  23      2        3  MI        michigan:south # 14   26  5.168543e-02  23      2        3  MI        michigan:north # 8    19  4.900108e-02  16      2        4  IA                  iowa # 11   22  4.718392e-02  19      3        7  LA             louisiana # 16   29  4.710395e-02  26      2        4  MO              missouri # 33   49  3.618461e-02  46      4        8  UT                  utah # 32   48  3.098754e-02  45      3        7  TX                 texas # 5    13  2.789892e-02  11      3        5  GA               georgia # 38   56  2.764866e-02  53      4        8  WY               wyoming # 19   32  2.412182e-02  29      4        8  NV                nevada # 22   37  1.574197e-02  34      3        5  NC north carolina:knotts # 23   37  1.574197e-02  34      3        5  NC   north carolina:spit # 24   37  1.574197e-02  34      3        5  NC   north carolina:main # 7    18  1.230765e-02  15      2        3  IN               indiana # 30   46  3.899512e-03  43      2        4  SD          south dakota # 1     1  1.486812e-16   1      3        6  AL               alabama # 37   54  1.210699e-16  51      3        5  WV         west virginia # 17   30  8.053257e-17  27      4        8  MT               montana # 2     4  2.680380e-17   3      4        8  AZ               arizona # 31   47  2.591531e-17  44      3        6  TN             tennessee # 27   40  1.615722e-17  37      3        7  OK              oklahoma # 28   42 -4.227009e-18  39      1        2  PA          pennsylvania # 26   39 -1.708190e-17  36      2        3  OH                  ohio # 9    20 -3.531062e-17  17      2        4  KS                kansas # 15   28 -3.747543e-17  25      3        6  MS           mississippi # 3     5 -2.273750e-16   4      3        7  AR              arkansas # 10   21 -2.314121e-16  18      3        6  KY              kentucky # 6    16 -2.319602e-16  13      4        8  ID                 idaho summary(disco$perm) # Permutation test for quantile range: [0, 1]  # P-value:  0.176  # Number of control units:  33 discot <- DiSCoTEA(disco,  agg=\"quantileDiff\", graph=TRUE) summary(discot) #  # Call: # DiSCoTEA(disco = disco, agg = \"quantileDiff\", graph = TRUE) #  # Reference: Gunsilius, Florian F. \"Distributional synthetic controls.\" Econometrica 91, no. 3 (2023): 1105-1117.  #  # Aggregated Distribution Differences, Quantile Δ  #  Time X_from X_to Quantile Δ Std. Error   [95%  Conf. Band]   #  2003   0.00 0.25    -0.0436     0.0090 -0.0598     -0.0246 * #  2003   0.25 0.50     0.0355     0.0126  0.0121      0.0609 * #  2003   0.50 0.75     0.1702     0.0160  0.1403      0.2004 * #  2003   0.75 1.00     0.7026     0.0526  0.5957      0.8016 * #  2004   0.00 0.25     0.0952     0.0086  0.0797      0.1127 * #  2004   0.25 0.50     0.1259     0.0115  0.1038      0.1477 * #  2004   0.50 0.75     0.2233     0.0152  0.1934      0.2527 * #  2004   0.75 1.00     1.1784     0.0503  1.0763      1.2679 * # --- # Signif. codes: `*' Confidence band for distribution differences does not cover 0 #  # Permutation test for quantile range: [0, 1]  # P-value:  0.176  # Number of control units:  33  # Number of pre-treatment periods: 5 # Number of post-treatment periods: 2 # N=652,870"},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"robustness-tests","dir":"Articles","previous_headings":"","what":"Robustness tests","title":"Empirical Application in Gunsilius (2023)","text":"package offers various ways test suspected effects. example, can focus specific part distribution, construct separate synthetic control . Mathematically, comes , \\[ \\vec{\\lambda}_t^*=\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}} \\int_{\\text{q_min}}^{\\text{q_max}}\\left|\\sum_{j=2}^{J+1} \\lambda_j F_{Y_{j t}}^{-1}(q)-F_{Y_{1 t}}^{-1}(q)\\right|^2 d q, \\] \\(\\text{q_min} < \\text{q_max}\\) bounds quantile range ’re interested . R simple , set lower bound 0.75 since effects start appearing clearly, upper bound 0.95 account fact CPS data used Dube (2019) imputed top income quantiles, may explain erratic behavior estimator quantiles. Another way one try deal irregularity estimated quantile functions using qmethod option DiSCo command, allows use alternative quantile estimation methods can account non-smoothness extreme values. , plot results using DiScoTEA function:  restricted range quantiles, estimator appears produce slightly better — though perfect – pre-treatment fit. still observe positive effects post-treatment periods, restricted permutation test still significant. Overall, reject null hypothesis effect treatment.","code":"disco <- DiSCo(dube, id_col.target=id_col.target, t0=t0, G = 250, num.cores = 2, permutation = TRUE, CI = TRUE, boots = 1000, graph = FALSE, q_min = 0.7, q_max=0.95, seed=1, simplex=TRUE) # Computing confidence intervals for period: 1998 # Computing confidence intervals for period: 1999 # Computing confidence intervals for period: 2000 # Computing confidence intervals for period: 2001 # Computing confidence intervals for period: 2002 # Computing confidence intervals for period: 2003 # Computing confidence intervals for period: 2004 # Starting permutation test...Permutation finished! discot <- DiSCoTEA(disco, agg=\"quantileDiff\", graph=TRUE) summary(discot)  #  # Call: # DiSCoTEA(disco = disco, agg = \"quantileDiff\", graph = TRUE) #  # Reference: Gunsilius, Florian F. \"Distributional synthetic controls.\" Econometrica 91, no. 3 (2023): 1105-1117.  #  # Aggregated Distribution Differences, Quantile Δ  #  Time X_from X_to Quantile Δ Std. Error  [95%  Conf. Band]   #  2003    0.7 0.95     0.1313     0.0114 0.1092      0.1536 * #  2004    0.7 0.95     0.1430     0.0112 0.1220      0.1663 * # --- # Signif. codes: `*' Confidence band for distribution differences does not cover 0 #  # Permutation test for quantile range: [0.7, 0.95]  # P-value:  0.0588  # Number of control units:  33  # Number of pre-treatment periods: 5 # Number of post-treatment periods: 2 # N=652,870"},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Empirical Application in Gunsilius (2023)","text":"vignette, demonstrated DiSCo package using data empirical application Gunsilius (2023). estimated difference quantile functions distributional synthetic control constructed DiSco command observed quantile function. test presence treatment effects, inspected pre-treatment distributional fit, carried permutation test, re-estimated synthetic control restricted quantile range; robustness tests available DiSCo package, together handy graphing aggregation tools.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Van Dijcke. Author, maintainer. Florian Gunsilius. Author. Siyun . Author.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Van Dijcke D, Gunsilius F, S (2023). DiSCo: Distributional Synthetic Controls Estimation. R package version 0.0.0.9000, http://www.davidvandijcke.com/DiSCo/, https://github.com/.","code":"@Manual{,   title = {DiSCo: Distributional Synthetic Controls Estimation},   author = {David {Van Dijcke} and Florian Gunsilius and Siyun He},   year = {2023},   note = {R package version 0.0.0.9000, http://www.davidvandijcke.com/DiSCo/},   url = {https://github.com/}, }"},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"discos-","dir":"","previous_headings":"","what":"Distributional Synthetic Controls Estimation","title":"Distributional Synthetic Controls Estimation","text":"DiSCos package contains tools computing counterfactual quantile functions Distributional Synthetic Controls (DiSCos) setting, following method proposed Gunsilius (2023). Warning package currently development. first version released soon.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Distributional Synthetic Controls Estimation","text":"look vignette replicating empirical application paper get started.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Distributional Synthetic Controls Estimation","text":"can install latest version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"Davidvandijcke/DiSCos\")"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo — DiSCo","title":"DiSCo — DiSCo","text":"function implements distributional synthetic controls (DiSCo) method Gunsilius (2023) . well alternative mixture distributions approach.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo — DiSCo","text":"","code":"DiSCo(   df,   id_col.target,   t0,   M = 1000,   G = 1000,   num.cores = 2,   permutation = FALSE,   q_min = 0,   q_max = 1,   CI = FALSE,   CI_placebo = TRUE,   boots = 500,   cl = 0.95,   graph = FALSE,   qmethod = NULL,   seed = NULL,   simplex = FALSE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo — DiSCo","text":"df Data frame data table containing distributional data target control units. data table contain following columns: y_col numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col numeric vector containing aggregate IDs units. , example, state units counties individuals time_col vector containing time period observation unit. monotonically increasing integer. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. t0 Integer indicating period treatment. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. num.cores Integer, number cores use parallel computation. Default 2. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. permutation Logical, indicating whether use permutation method computing optimal weights. Default FALSE. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). CI Logical, indicating whether compute confidence intervals counterfactual quantiles. Default FALSE. CI_placebo Logical, indicating whether compute confidence intervals pre-treatment periods. Default TRUE. lot pre-treatment periods, setting FALSE can speed computation. boots Integer, number bootstrap samples use computing confidence intervals. Default 500. cl Numeric, confidence level (two-sided) confidence intervals. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. seed Integer, seed random number generator. needs set explicitly function call, since invoke RNGkind set seed core using parallel processes. Default NULL, set seed. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo — DiSCo","text":"list containing, time period, elements described return argument DiSCo_iter, well following additional elements: DiSco CI list confidence intervals standard errors counterfactual quantiles, CI TRUE periods specified CI_periods. See output DiSCo_CI details. quantile counterfactual quantiles target unit. weights optimal weights target unit. cdf counterfactual CDF target unit. perm permut object containing results permutation method, permutation TRUE. Call summary object print overall results permutation test.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo — DiSCo","text":"function called every time period DiSCo function. implements DiSCo method single time period, well mixture distributions approach. corresponding results time period can accessed results.periods list output DiSCo function. DiSCo function returns average weight unit across periods, calculated uniform mean, well counterfactual target distribution produced weighted average control distributions period, using averaged weights.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"DiSCo — DiSCo","text":"Gunsilius FF (2023). “Distributional synthetic controls.” Econometrica, 91(3), 1105--1117. ()","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCoT — DiSCoT","title":"DiSCoT — DiSCoT","text":"S3 object holding aggregated treatment effects","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCoT — DiSCoT","text":"","code":"DiSCoT(   agg,   treats,   ses,   grid,   ci_lower,   ci_upper,   t0,   call,   cl,   N,   J,   agg_df,   perm,   plot )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCoT — DiSCoT","text":"agg aggregation method treats list treatment effects ses list standard errors grid grid ci_lower list lower confidence intervals ci_upper list upper confidence intervals t0 start time call call cl confidence level N number observations J number treated units agg_df dataframe aggregated treatment effects confidence intervals perm list per mutation results plot ggplot object containing plot aggregated treatment effects using agg parameter","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCoTEA — DiSCoTEA","title":"DiSCoTEA — DiSCoTEA","text":"Distributional Synthetic Controls Treatment Effect Aggregator (DiSCoTEA).","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCoTEA — DiSCoTEA","text":"","code":"DiSCoTEA(   disco,   agg = \"quantileDiff\",   graph = TRUE,   t_plot = NULL,   savePlots = FALSE,   xlim = NULL,   ylim = NULL,   samples = c(0.25, 0.5, 0.75) )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCoTEA — DiSCoTEA","text":"disco Output DiSCo function agg String indicating aggregation statistic used. Options quantileDiff Difference quantiles target weighted average controls. quantile . graph Boolean indicating whether plot graphs. Default TRUE. t_plot Optional vector time periods (t_col values original dataframe) plotted. Default NULL, plots time periods. savePlots Boolean indicating whether save plots current working directory. plot names [agg]_[start_year]_[end_year].pdf. default FALSE. xlim Optional vector length 2 indicating x-axis limits plot. ylim option can useful zoom relevant parts distribution fat-tailed distributions. ylim Optional vector length 2 indicating y-axis limits plot. samples Numeric vector indicating range quantiles aggregation statistic (agg) summarized summary property S3 class returned function. example, samples = c(0.25, 0.5, 0.75) (default), summary table include average effect 0-25th, 25-50th, 50-75th 75-100th quantiles distribution aggregation statistic time.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCoTEA — DiSCoTEA","text":"DiSCoT object.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCoTEA — DiSCoTEA","text":"function takes output DiSCo_per function computes aggregate treatment effect using user-specified aggregation statistic. default differences counterfactual observed quantile functions (quantileDiff). graph set TRUE, function plot distribution aggregation statistic time. S3 class returned function summary property print selection aggregated effects (specified samples parameter) chosen agg method, post-treatment year (see examples ). summary call print effects agg parameter requested distribution difference (quantileDiff cdfDiff). aggregations meant inspected visually. permutation parameter set TRUE original DiSCo call, summary table include results permutation test. original DiSCo call restricted range quantiles smaller [0,1] (.e. q_min > 0 q_max < 1), samples parameter ignored aggregated differences quantile range specified original call returned.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"DiSCoTEA — DiSCoTEA","text":"","code":"if (FALSE) { # load data data(\"dube\") # run DiSCo disco <- DiSCo(dube, id_col.target = 2, t0 = 2003, M = 1000, G = 1000, num.cores = 4, permutation = TRUE, CI = TRUE, boots = 1000, cl = 0.95, CI_placebo=TRUE, graph = TRUE, qmethod=NULL, q_min=0, q_max=1) discot <- DiSCoTEA(disco, agg = \"quantileDiff\", graph = TRUE, savePlots = FALSE, samples = c(0.2, 0.4, 0.6, 0.8)) # print summary table summary(discot) }"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_CI — DiSCo_CI","title":"DiSCo_CI — DiSCo_CI","text":"Function computing confidence intervals DiSCo method","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_CI — DiSCo_CI","text":"","code":"DiSCo_CI(   controls,   weights,   mc.cores = 1,   cl = 0.95,   num.redraws = 500,   evgrid = seq(from = 0, to = 1, length.out = 1001),   qmethod = NULL )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_CI — DiSCo_CI","text":"controls list containing raw data control group weights vector optimal weights mc.cores Number cores use parallelization cl Numeric, confidence level (two-sided) confidence intervals. num.redraws number bootstrap samples draw qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. bc list barycenters control group","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_CI — DiSCo_CI","text":"DSC_CI returns list containing following components: upper vector upper bound. lower vector lower bound. se vector standard errors counterfactual quantile estimate. bootmat matrix counterfactual quantile estimates bootstrap sample.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_CI_iter — DiSCo_CI_iter","title":"DiSCo_CI_iter — DiSCo_CI_iter","text":"Function computing confidence intervals DiSCo method single period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_CI_iter — DiSCo_CI_iter","text":"","code":"DiSCo_CI_iter(   redraw,   controls,   weights,   cl = 0.95,   evgrid = seq(from = 0, to = 1, length.out = 1001),   qmethod = NULL )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_CI_iter — DiSCo_CI_iter","text":"redraw Integer indicating number times function called controls List control units weights Vector optimal synthetic control weights, computed using DiSCo_weights_reg function. cl Numeric, confidence level (two-sided) confidence intervals. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. bc List barycenters","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_CI_iter — DiSCo_CI_iter","text":"resampled counterfactual barycenter target unit","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","title":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","text":"Compute barycenters DiSCo method every time period, Definition 1, Step 4 Gunsilius (2023) .","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","text":"","code":"DiSCo_bc(controls.q, weights, evgrid = seq(from = 0, to = 1, length.out = 101))"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","text":"controls.q List matrices control quantile functions weights Vector optimal synthetic control weights, computed using DiSCo_weights_reg function.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","text":"quantile function barycenter associated \"weights\" evaluated vector \"evgrid\"","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Function for computing barycenters in the DiSCo method at every time period — DiSCo_bc","text":"Gunsilius FF (2023). “Distributional synthetic controls.” Econometrica, 91(3), 1105--1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_iter — DiSCo_iter","title":"DiSCo_iter — DiSCo_iter","text":"function implements DiSCo method single time period, well mixture distributions approach.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_iter — DiSCo_iter","text":"","code":"DiSCo_iter(   yy,   df,   evgrid,   id_col.target,   M,   G,   T0,   qmethod = NULL,   q_min = 0,   q_max = 1,   simplex = FALSE,   controls.id )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_iter — DiSCo_iter","text":"yy Integer indicating current year processed. df Data frame data table containing distributional data target control units. data table contain following columns: y_col numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col numeric vector containing aggregate IDs units. , example, state units counties individuals time_col vector containing time period observation unit. monotonically increasing integer. evgrid vector grid points evaluate quantile functions. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. T0 Integer indicating last pre-treatment period starting 1. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. controls.id List strings specifying column names control units' identifiers.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_iter — DiSCo_iter","text":"list following elements: DiSCo_weights Weights calculated using DiSCo method. mixture weights Optimal weights mixture approach. distance Value objective function mixture approach. mean Weighted mixture controls' CDFs. target cdf Empirical CDF target. grid Grid quantile CDF functions evaluated. data Original data target unit. quantiles Quantiles target unit, evaluated specified grid. controls data Original data control units. cdf Empirical CDFs control units. quantiles Quantiles control units, evaluated specified grid. controls.q Quantiles control units, evaluated specified grid.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo_iter — DiSCo_iter","text":"function part DiSCo method, called time period. calculates optimal weights DiSCo method mixture distributions approach single time period. function processes data target control units, computes quantile functions, evaluates specified grid. function designed used within broader context DiSCo function, aggregates results across multiple time periods.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_mixture — DiSCo_mixture","title":"DiSCo_mixture — DiSCo_mixture","text":"alternative mixture distributions approach paper","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_mixture — DiSCo_mixture","text":"","code":"DiSCo_mixture(controls1, target, grid.min, grid.max, grid.rand, M)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_mixture — DiSCo_mixture","text":"controls1 list controls target target unit grid.min Minimal value grid CDFs evaluated. grid.max Maximal value grid CDFs evaluated. grid.rand Random grid CDFs evaluated. M Integer indicating number control quantiles use DiSCo method. Default 1000.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_mixture — DiSCo_mixture","text":"list containing following elements: cdf matrix containing CDFs target control units evaluated grid. distance.opt optimal value Wasserstein distance. mean optimal value Wasserstein barycenter. target.order target unit, ordered. weights.opt optimal weights.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per — DiSCo_per","title":"DiSCo_per — DiSCo_per","text":"Function implement permutation test Distributional Synthetic Controls","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per — DiSCo_per","text":"","code":"DiSCo_per(   results.periods,   T0,   ww = 0,   peridx = 0,   evgrid = seq(from = 0, to = 1, length.out = 101),   graph = TRUE,   num.cores = 1,   redo_weights = FALSE,   weights = NULL,   qmethod = NULL,   q_min = 0,   q_max = 1,   M = 1000,   simplex = FALSE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per — DiSCo_per","text":"results.periods List period-specific results DiSCo T0 Integer indicating first year treatment counted 1 (e.g, treatment year 2002 5th year sample, parameter 5). ww Optional vector weights indicating relative importance time period. specified, time period weighted equally. peridx Optional integer indicating number permutations. specified, default equal number units sample. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. num.cores Integer, number cores use parallel computation. Default 2. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. redo_weights Boolean indicating whether recompute weights \"true\" treated unit. Set FALSE default. weights Optional vector weights use \"true\" treated unit. redo_weights set FALSE weights used. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). M Integer indicating number control quantiles use DiSCo method. Default 1000. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per — DiSCo_per","text":"List matrices containing synthetic time path outcome variable target unit together time paths control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo_per — DiSCo_per","text":"program iterates units computes optimal weights units replicating unit iteration's outcome variable, assuming treated unit. See Algorithm 1 Gunsilius (2023)  details. modification take ratio post- pre-treatment root mean squared Wasserstein distances calculate p-value, rather level period, following @abadie2010synthetic.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"DiSCo_per — DiSCo_per","text":"Gunsilius FF (2023). “Distributional synthetic controls.” Econometrica, 91(3), 1105--1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per_iter — DiSCo_per_iter","title":"DiSCo_per_iter — DiSCo_per_iter","text":"function performs one iteration permutation test","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per_iter — DiSCo_per_iter","text":"","code":"DiSCo_per_iter(   c_df,   c_df.q,   t_df,   T0,   peridx,   evgrid,   idx,   M = 1000,   ww = 0,   qmethod = NULL,   q_min = 0,   q_max = 1,   simplex = FALSE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per_iter — DiSCo_per_iter","text":"c_df List control units c_df.q List quantiles control units t_df List target unit idx Index permuted target unit M Integer indicating number control quantiles use DiSCo method. Default 1000. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per_iter — DiSCo_per_iter","text":"List squared Wasserstein distances target unit control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per_rank — DiSCo_per_rank","title":"DiSCo_per_rank — DiSCo_per_rank","text":"function ranks squared Wasserstein distances returns p-values time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per_rank — DiSCo_per_rank","text":"","code":"DiSCo_per_rank(distt, distp, T0)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per_rank — DiSCo_per_rank","text":"distt List squared Wasserstein distances target unit control units distp List squared Wasserstein distances control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per_rank — DiSCo_per_rank","text":"List p-values time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_weights_reg — DiSCo_weights_reg","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"Function obtaining weights DiSCo method every time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"","code":"DiSCo_weights_reg(   controls,   target,   M = 500,   qmethod = NULL,   simplex = FALSE,   q_min = 0,   q_max = 1 )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"controls List matrices control distributions target Matrix containing target distribution M Integer indicating number control quantiles use DiSCo method. Default 1000. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles).","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"Vector optimal synthetic control weights","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"Estimate optimal weights distributional synthetic controls method. solving convex minimization problem Eq. (2) Gunsilius (2023) .. using regression simulated target quantile simulated control quantiles, Eq. (3), \\(\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}}\\left\\|\\mathbb{Y}_t \\vec{\\lambda}_t-\\vec{Y}_{1 t}\\right\\|_2^2\\). constrained optimization rely package pracma control distributions can given list form, list element contains vector observations given control unit, matrix form; matrix- column corresponds one unit row one observation. list-form useful, number draws control group can different. target must given vector.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"DiSCo_weights_reg — DiSCo_weights_reg","text":"Gunsilius FF (2023). “Distributional synthetic controls.” Econometrica, 91(3), 1105--1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":null,"dir":"Reference","previous_headings":"","what":"checks\nCarry out checks on the inputs — checks","title":"checks\nCarry out checks on the inputs — checks","text":"checks Carry checks inputs","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"checks\nCarry out checks on the inputs — checks","text":"","code":"checks(   df,   id_col.target,   t0,   M,   G,   num.cores,   permutation,   q_min,   q_max,   CI,   CI_placebo,   boots,   cl,   graph,   qmethod,   seed )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"checks\nCarry out checks on the inputs — checks","text":"df Data frame data table containing distributional data target control units. data table contain following columns: y_col numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col numeric vector containing aggregate IDs units. , example, state units counties individuals time_col vector containing time period observation unit. monotonically increasing integer. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. t0 Integer indicating period treatment. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. num.cores Integer, number cores use parallel computation. Default 2. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. permutation logical, whether use permutation q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). CI Logical, indicating whether compute confidence intervals counterfactual quantiles. Default FALSE. CI_placebo Logical, indicating whether compute confidence intervals pre-treatment periods. Default TRUE. lot pre-treatment periods, setting FALSE can speed computation. boots Integer, number bootstrap samples use computing confidence intervals. Default 500. cl Numeric, confidence level (two-sided) confidence intervals. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method. seed Integer, seed random number generator. needs set explicitly function call, since invoke RNGkind set seed core using parallel processes. Default NULL, set seed.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/citation.html","id":null,"dir":"Reference","previous_headings":"","what":"citation — citation","title":"citation — citation","text":"print citation relevant paper","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/citation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"citation — citation","text":"","code":"citation()"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":null,"dir":"Reference","previous_headings":"","what":"Data from (Dube 2019) — dube","title":"Data from (Dube 2019) — dube","text":"used empirical application Gunsilius (2023) .","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data from (Dube 2019) — dube","text":"","code":"dube"},{"path":[]},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":"dube","dir":"Reference","previous_headings":"","what":"dube","title":"Data from (Dube 2019) — dube","text":"data frame 652,870 rows 3 columns: id_col State FIPS time_col Year y_col adj0contpov variable Dube (2019) . Captures distribution equalized family income wages salary, defined multiples federal poverty threshold.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data from (Dube 2019) — dube","text":"https://www.aeaweb.org/articles?id=10.1257/app.20170085","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":null,"dir":"Reference","previous_headings":"","what":"getGrid — getGrid","title":"getGrid — getGrid","text":"Set grid estimation quantile functions CDFs","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"getGrid — getGrid","text":"","code":"getGrid(target, controls, G)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"getGrid — getGrid","text":"target vector containing data target unit controls list containing data control units G number grid points","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"getGrid — getGrid","text":"list containing following elements: grid.minThe minimum value grid grid.maxThe maximum value grid grid.randA vector containing grid points grid.ordA vector containing grid points, ordered","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a vector is integer — is.integer","title":"Check if a vector is integer — is.integer","text":"Check vector integer","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a vector is integer — is.integer","text":"","code":"is.integer(x)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a vector is integer — is.integer","text":"x vector","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a vector is integer — is.integer","text":"TRUE x integer, FALSE otherwise","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":null,"dir":"Reference","previous_headings":"","what":"mclapply.hack — mclapply.hack","title":"mclapply.hack — mclapply.hack","text":"function mimics forking (done mclapply Mac Linux) Windows environment.  Designed used just like mclapply.  Credit goes Nathan VanHoudnos.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"mclapply.hack — mclapply.hack","text":"","code":"mclapply.hack(..., verbose = FALSE, mc.cores = NULL)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"mclapply.hack — mclapply.hack","text":"verbose users warned hack-y? Defaults FALSE.","code":""},{"path":[]},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the empirical quantile function — myQuant","title":"Compute the empirical quantile function — myQuant","text":"Compute empirical quantile function","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the empirical quantile function — myQuant","text":"","code":"myQuant(X, q, qmethod = NULL, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the empirical quantile function — myQuant","text":"X vector containing data q vector containing quantiles","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the empirical quantile function — myQuant","text":"vector containing empirical quantile function","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":null,"dir":"Reference","previous_headings":"","what":"permut — permut","title":"permut — permut","text":"Object hold results permutation test","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"permut — permut","text":"","code":"permut(distp, distt, p_overall, J_1, q_min, q_max, plot)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"permut — permut","text":"distp List squared Wasserstein distances control units distt List squared Wasserstein distances target unit control units p_overall Overall p-value J_1 Number control units q_min Minimum quantile q_max Maximum quantile plot ggplot object containing plot squared Wasserstein distances time permutations.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"permut — permut","text":"list class permut, elements input arguments.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot distribution of treatment effects over time — plotDistOverTime","title":"Plot distribution of treatment effects over time — plotDistOverTime","text":"Plot distribution treatment effects time","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot distribution of treatment effects over time — plotDistOverTime","text":"","code":"plotDistOverTime(   cdf_centered,   grid_cdf,   t_start,   t_max,   CI,   ci_lower,   ci_upper,   ylim = c(0, 1),   xlim = NULL,   cdf = TRUE,   xlab = \"Distribution Difference\",   ylab = \"CDF\",   obsLine = NULL,   savePlots = FALSE,   plotName = NULL,   lty = 1,   lty_obs = 1,   t_plot = NULL )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot distribution of treatment effects over time — plotDistOverTime","text":"cdf_centered list centered distributional statistics grid_cdf grid t_start start time t_max maximum time CI logical indicating whether plot confidence intervals ci_lower lower confidence interval ci_upper upper confidence interval ylim y limits xlim x limits cdf logical indicating whether plot CDF quantile difference xlab x label ylab y label obsLine optional additional line plot. Default NULL means line plotted. savePlots logical indicating whether save plots plotName name plot save lty line type main line passed cdf_centered lty_obs line type optional additional line passed obsLine t_plot optional vector times plot. Default NULL means times plotted.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot distribution of treatment effects over time — plotDistOverTime","text":"plot distribution treatment effects time","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":null,"dir":"Reference","previous_headings":"","what":"print.permut — print.permut","title":"print.permut — print.permut","text":"Print permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"print.permut — print.permut","text":"","code":"# S3 method for permut print(x, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"print.permut — print.permut","text":"x Object class permut ... Additional arguments","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"print.permut — print.permut","text":"Prints permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":null,"dir":"Reference","previous_headings":"","what":"summary.DiSCoT — summary.DiSCoT","title":"summary.DiSCoT — summary.DiSCoT","text":"Summary DiSCoT object","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"summary.DiSCoT — summary.DiSCoT","text":"","code":"# S3 method for DiSCoT summary(object, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"summary.DiSCoT — summary.DiSCoT","text":"object DiSCoT object ... Additional arguments","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"summary.DiSCoT — summary.DiSCoT","text":"summary DiSCoT object","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":null,"dir":"Reference","previous_headings":"","what":"title summary.permut — summary.permut","title":"title summary.permut — summary.permut","text":"Summarize permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"title summary.permut — summary.permut","text":"","code":"# S3 method for permut summary(object, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"title summary.permut — summary.permut","text":"... Additional arguments x Object class permut","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"title summary.permut — summary.permut","text":"Prints permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/news/index.html","id":"disco-100","dir":"Changelog","previous_headings":"","what":"DiSCo 1.0.0","title":"DiSCo 1.0.0","text":"First version package, basic DiSco function estimating counterfactual quantile function, resampling-based CIs, permutation test; DiSCo_TEA function various aggregation schemes.","code":""}]
