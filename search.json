[{"path":"http://www.davidvandijcke.com/DiSCo/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 DiSCo authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Empirical Application in Gunsilius (2023)","text":"vignette demonstrates use DiSCo package way empirical application Gunsilius (2023), based Dube (2019). illustrate use two main functions: 1) DiSCo, estimates raw distributional counterfactuals, computes confidence intervals, optionally performs permutation test; 2) DiSCoTEA, ‚ÄúTreatment Effect Aggregator‚Äù, takes distributional counterfactuals computes aggregate treatment effects using user-specified aggregation statistic.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"distributional-synthetic-controls","dir":"Articles","previous_headings":"","what":"Distributional Synthetic Controls","title":"Empirical Application in Gunsilius (2023)","text":"briefly review main idea behind Distributional Synthetic Controls. Denote Yjt,NY_{jt,N} outcome group jj time period tt absence intervention. Also denote Yjt,IY_{jt,} outcome presence intervention time t>T0t > T_0. Denote quantile function, F‚àí1(q):=infy‚àà‚Ñù{F(y)‚â•q},q‚àà(0,1), F^{-1}(q):=\\inf _{y \\\\mathbb{R}}\\{F(y) \\geq q\\}, \\quad q \\(0,1),  F(y)F(y) corresponding cumulative distribution function. One unit j=1j=1 received treatment, units j=2,‚Ä¶,Jj=2,\\ldots,J . goal estimate counterfactual quantile function FY1t,N‚àí1F_{Y_{1 t}, N}^{-1} treated unit received treatment optimally weighted average control units‚Äô quantile functions, FY1t,N‚àí1(q)=‚àëj=2J+1Œªj*FYjt‚àí1(q) q‚àà(0,1) F_{Y_{1 t}, N}^{-1}(q)=\\sum_{j=2}^{J+1} \\lambda_j^* F_{Y_{j t}}^{-1}(q) \\quad \\text { } q \\(0,1)  practice, solving following optimization problem: Œª‚Üít*=argminŒª‚Üí‚ààŒîJ‚à´01|‚àëj=2J+1ŒªjFYjt‚àí1(q)‚àíFY1t‚àí1(q)|2dq \\vec{\\lambda}_t^*=\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}} \\int_0^1\\left|\\sum_{j=2}^{J+1} \\lambda_j F_{Y_{j t}}^{-1}(q)-F_{Y_{1 t}}^{-1}(q)\\right|^2 d q gives optimal weight unit-period combination. problem can solved simple weighted regression, implemented DiSCo_weights_reg function. obtain overall optimal weights Œª‚Üí*\\vec{\\lambda}^*, take average optimal weights across periods.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Empirical Application in Gunsilius (2023)","text":"get coding, load data Dube (2019), available package. learn data, just type ?dube console. already renamed outcome, id, time variables y_col, id_col, time_col, respectively, required passing dataframe DiSCo command. also need set two following parameters: indicate id treated unit time period intervention, respectively. can now run DiSCo command: chosen grid (G) 1000 quantiles opted parallel computation 5 cores speed permutation test confidence intervals (CI set TRUE), calculate using 1000 resamples (boots). also set seed explicitly function call, ensures reproducibility across parallel cores. followed ‚Äúclassical‚Äù approach Abadie, Diamond, Hainmueller (2010) restricting weights 0 1 (simplex=TRUE). Finally, restricted data 0-90th quantile account fact CPS data used Dube (2019) imputed top income quantiles (detail section ). returned disco object contains host information produced command. Typing ?DiSCoT console pulls help files lay precise structure returned object. now, just look top 10 estimated weights, ran DiSCo command, set permutation TRUE, runs permutation test described paper (see ?DiSCo_per details). allow us inspect permutation inference results . Already, setting graph TRUE, function displayed plot full distribution permutation tests. black solid line shows fit ‚Äútrue‚Äù synthetic control. fact diverge stronger lines gray treatment suggests treatment effect. context, y-axis squared Wasserstein distance counterfactual observed quantile functions, dtt2:=‚à´01|FYut,N‚àí1(q)‚àíFYut‚àí1(q)|2dq d_{t t}^2:=\\int_0^1\\left|F_{Y_{u t, N}}^{-1}(q)-F_{Y_{u t}}^{-1}(q)\\right|^2 d q , Abadie, Diamond, Hainmueller (2010) take ratio post- pre-intervention Wasserstein distance account variation pre-treatment fit across placebo tests, rj=Rj(T0+1,T)Rj(1,T0) r_j=\\frac{R_j\\left(T_0+1, T\\right)}{R_j\\left(1, T_0\\right)}  calculate p-value permutation test , p=1J+1‚àëj=1J+1H(rj‚àír1), p=\\frac{1}{J+1} \\sum_{j=1}^{J+1} H\\left(r_j-r_1\\right), H(x)H(x) Heaviside function 1 x‚â•0x\\geq 0 0 otherwise. p-value gives probability observing placebo test larger ratio true treatment effect. can retrieved calling p-value larger 0.05, confirms visual result plot , accounting potential differences pre-treatment fit across placebo units. Finally, can use DiSCo Treatment Effect Aggregator (DiSCoTEA) function aggregate resulting counterfactual quantile functions various treatment effect measures. example, can calculate difference counterfactual observed quantile functions cumulative distribution functions (CDF) follows. Calling summary returned object prints table summarizing effects across distribution. can choose intervals quantiles aggregates using samples parameter. calculated permutation test confidence intervals DiSCo function, reported well. Setting graph TRUE also prints plot distribution differences time can focus specific years using t_plot parameter. can use parameters DiSCOTEA function adjust basic appearance plots, directly alter ggplot object stored returned DiSCoT object. Looking plot quantile CDF differences, can see two things: 1) pre-treatment fit years 1998-2002 decent perfect; 2) appear notable effects minimum wage inrease, asides fluctuations function differences similar pre-treatment.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"robustness-tests","dir":"Articles","previous_headings":"","what":"Robustness tests","title":"Empirical Application in Gunsilius (2023)","text":"package offers various ways test suspected effects. example, can focus specific part distribution, construct separate synthetic control . Mathematically, comes , Œª‚Üít*=argminŒª‚Üí‚ààŒîJ‚à´q_minq_max|‚àëj=2J+1ŒªjFYjt‚àí1(q)‚àíFY1t‚àí1(q)|2dq, \\vec{\\lambda}_t^*=\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}} \\int_{\\text{q_min}}^{\\text{q_max}}\\left|\\sum_{j=2}^{J+1} \\lambda_j F_{Y_{j t}}^{-1}(q)-F_{Y_{1 t}}^{-1}(q)\\right|^2 d q, q_min<q_max\\text{q_min} < \\text{q_max} bounds quantile range ‚Äôre interested . example, following Dube (2019), can focus lower end distribution, observations earn 3.5 times poverty income threshold. corresponds around 0.65th quantile data: can simply run following code, One also try deal irregularity estimated quantile functions using qmethod option DiSCo command, allows use alternative quantile estimation methods can account non-smoothness extreme values. , plot results using DiScoTEA function: , observe subtantial changes quantile functions CDFs. Also, p-value permutation test now larger, losing marginal significance . Overall, reject null hypothesis effect treatment.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/articles/Dube2019.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Empirical Application in Gunsilius (2023)","text":"vignette, demonstrated DiSCo package using data empirical application Gunsilius (2023). estimated difference quantile functions distributional synthetic control constructed DiSco command observed quantile function. test presence treatment effects, inspected pre-treatment distributional fit, carried permutation test, re-estimated synthetic control restricted quantile range; robustness tests available DiSCo package, together handy graphing aggregation tools.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Van Dijcke. Author, maintainer. Florian Gunsilius. Author. Siyun . Author.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Van Dijcke D, Gunsilius F, S (2025). DiSCos: Distributional Synthetic Controls Estimation. R package version 0.1.2, http://www.davidvandijcke.com/DiSCos/.","code":"@Manual{,   title = {DiSCos: Distributional Synthetic Controls Estimation},   author = {David {Van Dijcke} and Florian Gunsilius and Siyun He},   year = {2025},   note = {R package version 0.1.2},   url = {http://www.davidvandijcke.com/DiSCos/}, }"},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"discos-","dir":"","previous_headings":"","what":"Distributional Synthetic Controls Estimation","title":"Distributional Synthetic Controls Estimation","text":"DiSCos package contains tools computing counterfactual quantile functions Distributional Synthetic Controls (DiSco) setting, following method proposed Gunsilius (2023).","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Distributional Synthetic Controls Estimation","text":"look vignette replicating empirical application paper get started.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Distributional Synthetic Controls Estimation","text":"install latest stable version, run can install latest development version GitHub : find bugs questions, please email dvdijcke@umich.edu.","code":"install.packages(\"DiSCos\") devtools::install_github(\"Davidvandijcke/DiSCos\")"},{"path":"http://www.davidvandijcke.com/DiSCo/index.html","id":"faq","dir":"","previous_headings":"","what":"FAQ","title":"Distributional Synthetic Controls Estimation","text":"Q: code sometimes run slower expected?: approach DiSCo non-parametric requires integrating entire distributions, naturally increases computational complexity. particular, can costly large datasets large values M G. Q: faster backend?: optimization relies libraries (e.g., ‚Äúquadprog‚Äù ‚ÄúCVXR‚Äù) ultimately call C++ FORTRAN hood. Even though libraries optimized, fully non-parametric distance-matching remains computationally heavy. Q: can reduce runtime developing debugging?: - Use fewer quantile points setting M = 100 DiSCo. - Set smaller grid, e.g., G = 100, reduce evaluation points. - Start two time periods (Ts = 2). - Disable time-consuming features, confidence intervals (CI=FALSE) permutation tests (permutation=FALSE). - Increase parallel execution num.cores DiSCo, example, using cluster multiple cores split bootstrap/permutation tasks. Q: suggestions handling large real-world data?: - Verify correctness minimal working example, gradually increase M, G, number periods. - Use discrete categorical grid options (grid.cat) suitable data reduce dimension problem. - Ensure memory CPU availability align size task. Q: Can get progress bar?: package first implemented, functional solutions progress bars parallel computation R. may changed‚Äî‚Äôd like contribute, feel free become hero ü¶∏ either enhance repo create parallel progress bar package!","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":null,"dir":"Reference","previous_headings":"","what":"Distributional Synthetic Controls ‚Äî DiSCo","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"function implements distributional synthetic controls (DiSCo) method Gunsilius (2023) . well alternative mixture distributions approach.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"","code":"DiSCo(   df,   id_col.target,   t0,   M = 1000,   G = 1000,   num.cores = 1,   permutation = FALSE,   q_min = 0,   q_max = 1,   CI = FALSE,   boots = 500,   replace = TRUE,   uniform = FALSE,   cl = 0.95,   graph = FALSE,   qmethod = NULL,   qtype = 7,   seed = NULL,   simplex = FALSE,   mixture = FALSE,   grid.cat = NULL )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"df Data frame data table containing distributional data target control units. data table contain following columns: y_col  numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col  numeric vector containing aggregate IDs units. , example, state units counties individuals time_col  vector containing time period observation unit. monotonically increasing integer. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. t0 Integer indicating period treatment. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. num.cores Integer, number cores use parallel computation. Default 1. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. permutation Logical, indicating whether use permutation method computing optimal weights. Default FALSE. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach. CI Logical, indicating whether compute confidence intervals counterfactual quantiles. Default FALSE. confidence intervals computed using bootstrap procedure described Van Dijcke et al. (2024) . boots Integer, number bootstrap samples use computing confidence intervals. Default 500. replace Logical, indicating whether sample replacement computing bootstrap samples. Default TRUE. uniform Logical, indicating whether construct uniform bootstrap confidence intervals. Default FALSE FALSE, confidence intervals pointwise. cl Numeric, confidence level (two-sided) confidence intervals. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. seed Integer, seed random number generator. needs set explicitly function call, since invoke RNGkind set seed core using parallel processes. Default NULL, set seed. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE. grid.cat List, containing discrete support points discrete grid used mixture distributions approach. useful constructing synthetic distributions categorical variables. Default NULL, uses continuous grid based parameters.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"list containing following elements: results.periods list containing, time period, elements described return argument DiSCo_iter, well following additional elements: DiSco quantile  counterfactual quantiles target unit. weights  optimal weights target unit. cdf  counterfactual CDF target unit. weights numeric vector containing synthetic control weights control units, averaged time. mixture TRUE, weights mixture distributions, otherwise weights quantile-based approach. CI list containing confidence intervals counterfactual quantiles CDFs, CI TRUE. element contains two named subelements called upper, lower, se upper lower confidence bands standard error estimate, respectively. G x T matrices G specified number grid points T number time periods. elements : cdf bootstrapped CDF quantile bootstrapped quantile quantile_diff bootstrapped quantile difference cdf_diff bootstrapped CDF difference bootmat list containing raw bootstrapped samples counterfactual quantiles CDFs, CI TRUE. meant accessed directly, used DiSCoTEA compute aggregated standard errors. Advanced users may wish access directly analysis. element names self-explanatory. #' control_ids list containing control unit IDs used time period, can used identify weights associated control returned weights order control IDs. perm  permut object containing results permutation method, permutation TRUE. Call summary object print overall results permutation test. #' evgrid numeric vector containing grid points quantiles evaluated. params list containing parameters used function call.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"function called every time period DiSCo function. implements DiSCo method single time period, well mixture distributions approach. corresponding results time period can accessed results.periods list output DiSCo function. DiSCo function returns average weight unit across periods, calculated uniform mean, well counterfactual target distribution produced weighted average control distributions period, using averaged weights.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Distributional Synthetic Controls ‚Äî DiSCo","text":"Gunsilius FF (2023). ‚ÄúDistributional synthetic controls.‚Äù Econometrica, 91(3), 1105‚Äì1117. Van Dijcke D, Gunsilius F, Wright AL (2024). ‚ÄúReturn Office Tenure Distribution.‚Äù Working Paper 2024-56, University Chicago, Becker Friedman Institute Economics. ()","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":null,"dir":"Reference","previous_headings":"","what":"Store aggregated treatment effects ‚Äî DiSCoT","title":"Store aggregated treatment effects ‚Äî DiSCoT","text":"S3 object holding aggregated treatment effects","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Store aggregated treatment effects ‚Äî DiSCoT","text":"","code":"DiSCoT(   agg,   treats,   ses,   grid,   ci_lower,   ci_upper,   t0,   call,   cl,   N,   J,   agg_df,   perm,   plot )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Store aggregated treatment effects ‚Äî DiSCoT","text":"agg aggregation method treats list treatment effects ses list standard errors grid grid ci_lower list lower confidence intervals ci_upper list upper confidence intervals t0 start time call call cl confidence level N number observations J number treated units agg_df dataframe aggregated treatment effects confidence intervals perm list per mutation results plot ggplot object containing plot aggregated treatment effects using agg parameter","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Store aggregated treatment effects ‚Äî DiSCoT","text":"S3 object class DiSCoT associated summary print methods","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","title":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","text":"Function aggregate treatment effects output DiSCo function, plot distribution aggregation statistic time, report summary tables.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","text":"","code":"DiSCoTEA(   disco,   agg = \"quantileDiff\",   graph = TRUE,   t_plot = NULL,   savePlots = FALSE,   xlim = NULL,   ylim = NULL,   samples = c(0.25, 0.5, 0.75) )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","text":"disco Output DiSCo function. agg String indicating aggregation statistic used. Options include quantileDiff  Difference quantiles target weighted average controls. quantile Plots observed counterfactual quantile functions. summary statistics produced. cdfDiff  Difference CDFs target weighted average controls. cdf Plots observed counterfactual CDFs. summary statistics produced. graph Boolean indicating whether plot graphs (default TRUE). t_plot Optional vector time periods (t_col values original dataframe) plotted (default NULL, plots time periods). savePlots Boolean indicating whether save plots current working directory (default FALSE). plot names [agg]_[start_year]_[end_year].pdf. xlim Optional vector length 2 indicating x-axis limits plot. Useful zooming relevant parts distribution fat-tailed distributions. ylim Optional vector length 2 indicating y-axis limits plot. samples Numeric vector indicating range quantiles aggregation statistic (agg) summarized summary property S3 class returned function (default c(0.25, 0.5, 0.75)). example, samples = c(0.25, 0.5, 0.75), summary table include average effect 0-25th, 25-50th, 50-75th 75-100th quantiles distribution aggregation statistic time.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","text":"DiSCoT object, S3 class stores list treatment effects, standard errors, corresponding confidence intervals (specified), dataframe treatment effects aggregated according agg input. S3 class also summary property print selection aggregated effects (specified samples parameter) chosen agg method, post-treatment year, well permutation test results, specified.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCoTEA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregate treatment effects from DiSCo function. ‚Äî DiSCoTEA","text":"function takes output DiSCo_per function computes aggregate treatment effect using user-specified aggregation statistic. default differences counterfactual observed quantile functions (quantileDiff). graph set TRUE, function plot distribution aggregation statistic time. S3 class returned function summary property print selection aggregated effects (specified samples parameter) chosen agg method, post-treatment year (see examples ). summary call print effects agg parameter requested distribution difference (quantileDiff cdfDiff). aggregations meant inspected visually. permutation parameter set TRUE original DiSCo call, summary table include results permutation test. original DiSCo call restricted range quantiles smaller [0,1] (.e. q_min > 0 q_max < 1), samples parameter ignored aggregated differences quantile range specified original call returned.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_CI ‚Äî DiSCo_CI","title":"DiSCo_CI ‚Äî DiSCo_CI","text":"Function computing confidence intervals DiSCo method using bootstrap approach described ","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_CI ‚Äî DiSCo_CI","text":"","code":"DiSCo_CI(   redraw,   controls,   target,   T_max,   T0,   grid,   mc.cores = 1,   evgrid = seq(from = 0, to = 1, length.out = 1001),   qmethod = NULL,   qtype = 7,   M = 1000,   mixture = FALSE,   simplex = FALSE,   replace = TRUE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_CI ‚Äî DiSCo_CI","text":"redraw Integer indicating current bootstrap redraw controls list containing raw data control group target list containing raw data target group T_max Index last time period T0 Index last pre-treatment period grid Grid recompute CDF mixture option chosen mc.cores Number cores use parallelization qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. M Integer indicating number control quantiles use DiSCo method. Default 1000. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. replace Logical, indicating whether sample replacement computing bootstrap samples. Default TRUE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_CI ‚Äî DiSCo_CI","text":"list following components weights bootstrapped weights disco_boot list containing bootstrapped counterfactuals, following elements, contains named elements called upper lower G x T matrices G specified number grid points T number time periods","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_CI_iter ‚Äî DiSCo_CI_iter","title":"DiSCo_CI_iter ‚Äî DiSCo_CI_iter","text":"Function computing confidence intervals DiSCo method single period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_CI_iter ‚Äî DiSCo_CI_iter","text":"","code":"DiSCo_CI_iter(   t,   controls_t,   target_t,   grid,   T0,   M = 1000,   evgrid = seq(from = 0, to = 1, length.out = 1001),   qmethod = NULL,   qtype = 7,   mixture = FALSE,   simplex = FALSE,   replace = TRUE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_CI_iter ‚Äî DiSCo_CI_iter","text":"t Time period controls_t List control unit data given period target_t List target unit data given period grid Grid recompute CDF mixture option chosen T0 Index last pre-treatment period M Integer indicating number control quantiles use DiSCo method. Default 1000. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. replace Logical, indicating whether sample replacement computing bootstrap samples. Default TRUE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_CI_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_CI_iter ‚Äî DiSCo_CI_iter","text":"resampled counterfactual barycenter target unit","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":null,"dir":"Reference","previous_headings":"","what":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","title":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","text":"Compute barycenters DiSCo method every time period, Definition 1, Step 4 Gunsilius (2023) .","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","text":"","code":"DiSCo_bc(controls.q, weights, evgrid = seq(from = 0, to = 1, length.out = 101))"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","text":"controls.q List matrices control quantile functions weights Vector optimal synthetic control weights, computed using DiSCo_weights_reg function.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","text":"quantile function barycenter associated \"weights\" evaluated vector \"evgrid\"","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_bc.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Function for computing barycenters in the DiSCo method at every time period ‚Äî DiSCo_bc","text":"Gunsilius FF (2023). ‚ÄúDistributional synthetic controls.‚Äù Econometrica, 91(3), 1105‚Äì1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","title":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","text":"function implements DiSCo method single time period, well mixture distributions approach. return values contain valuable period-specific estimation outputs.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","text":"","code":"DiSCo_iter(   yy,   df,   evgrid,   id_col.target,   M,   G,   T0,   qmethod = NULL,   qtype = 7,   q_min = 0,   q_max = 1,   simplex = FALSE,   controls.id,   grid.cat,   mixture )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","text":"yy Integer indicating current year processed. df Data frame data table containing distributional data target control units. data table contain following columns: y_col  numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col  numeric vector containing aggregate IDs units. , example, state units counties individuals time_col  vector containing time period observation unit. monotonically increasing integer. evgrid vector grid points evaluate quantile functions. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. T0 Integer indicating last pre-treatment period starting 1. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. controls.id List strings specifying column names control units' identifiers. grid.cat List, containing discrete support points discrete grid used mixture distributions approach. useful constructing synthetic distributions categorical variables. Default NULL, uses continuous grid based parameters. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","text":"list following elements: DiSCo_weights  Weights calculated using DiSCo method. mixture weights  Optimal weights mixture approach. distance  Value objective function mixture approach. mean  Weighted mixture controls' CDFs. target cdf  Empirical CDF target. computed mixture=TRUE. grid  Grid quantile CDF functions evaluated. data  Original data target unit. quantiles  Quantiles target unit, evaluated specified grid. controls data  Original data control units. cdf  Empirical CDFs control units. computed mixture=TRUE. quantiles  Quantiles control units, evaluated specified grid. . controls.q  Quantiles control units, evaluated specified grid.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_iter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate DiSCo in a single period ‚Äî DiSCo_iter","text":"function part DiSCo method, called time period. calculates optimal weights DiSCo method mixture distributions approach single time period. function processes data f target control units, computes quantile functions, evaluates specified grid. function designed used within broader context DiSCo function, aggregates results across multiple time periods.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_mixture ‚Äî DiSCo_mixture","title":"DiSCo_mixture ‚Äî DiSCo_mixture","text":"alternative mixture distributions approach paper","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_mixture ‚Äî DiSCo_mixture","text":"","code":"DiSCo_mixture(controls1, target, grid.min, grid.max, grid.rand, M, simplex)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_mixture ‚Äî DiSCo_mixture","text":"controls1 list controls target target unit grid.min Minimal value grid CDFs evaluated. grid.max Maximal value grid CDFs evaluated. grid.rand Random grid CDFs evaluated. M Integer indicating number control quantiles use DiSCo method. Default 1000. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_mixture ‚Äî DiSCo_mixture","text":"list containing following elements: cdf  matrix containing CDFs target control units evaluated grid. distance.opt  optimal value Wasserstein distance. mean  optimal value Wasserstein barycenter. target.order  target unit, ordered. weights.opt  optimal weights.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture_solve.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_mixture_solve ‚Äî DiSCo_mixture_solve","title":"DiSCo_mixture_solve ‚Äî DiSCo_mixture_solve","text":"solver alternative mixture distributions approach paper","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture_solve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_mixture_solve ‚Äî DiSCo_mixture_solve","text":"","code":"DiSCo_mixture_solve(   c_len,   CDF.matrix,   grid.min,   grid.max,   grid.rand,   M,   simplex )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture_solve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_mixture_solve ‚Äî DiSCo_mixture_solve","text":"c_len number controls CDF.matrix matrix CDFs grid.min Minimal value grid CDFs evaluated. grid.max Maximal value grid CDFs evaluated. grid.rand Random grid CDFs evaluated. M Integer indicating number control quantiles use DiSCo method. Default 1000. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_mixture_solve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_mixture_solve ‚Äî DiSCo_mixture_solve","text":"list containing following elements: distance.opt  optimal value Wasserstein distance. mean  optimal value Wasserstein barycenter. target.order  target unit, ordered. weights.opt  optimal weights.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per ‚Äî DiSCo_per","title":"DiSCo_per ‚Äî DiSCo_per","text":"Function implement permutation test Distributional Synthetic Controls","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per ‚Äî DiSCo_per","text":"","code":"DiSCo_per(   results.periods,   T0,   ww = 0,   peridx = 0,   evgrid = seq(from = 0, to = 1, length.out = 101),   graph = TRUE,   num.cores = 1,   weights = NULL,   qmethod = NULL,   qtype = qtype,   q_min = 0,   q_max = 1,   M = 1000,   simplex = FALSE,   mixture = FALSE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per ‚Äî DiSCo_per","text":"results.periods List period-specific results DiSCo T0 Integer indicating first year treatment counted 1 (e.g, treatment year 2002 5th year sample, parameter 5). ww Optional vector weights indicating relative importance time period. specified, time period weighted equally. peridx Optional integer indicating number permutations. specified, default equal number units sample. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. num.cores Integer, number cores use parallel computation. Default 1. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. weights Optional vector weights use \"true\" treated unit. redo_weights set FALSE weights used. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach. M Integer indicating number control quantiles use DiSCo method. Default 1000. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per ‚Äî DiSCo_per","text":"List matrices containing synthetic time path outcome variable target unit together time paths control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo_per ‚Äî DiSCo_per","text":"program iterates units computes optimal weights units replicating unit iteration's outcome variable, assuming treated unit. See Algorithm 1 Gunsilius (2023)  details. modification take ratio post- pre-treatment root mean squared Wasserstein distances calculate p-value, rather level period, following @abadie2010synthetic.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"DiSCo_per ‚Äî DiSCo_per","text":"Gunsilius FF (2023). ‚ÄúDistributional synthetic controls.‚Äù Econometrica, 91(3), 1105‚Äì1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per_iter ‚Äî DiSCo_per_iter","title":"DiSCo_per_iter ‚Äî DiSCo_per_iter","text":"function performs one iteration permutation test","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per_iter ‚Äî DiSCo_per_iter","text":"","code":"DiSCo_per_iter(   c_df,   c_df.q,   t_df,   T0,   peridx,   evgrid,   idx,   grid_df,   M = 1000,   ww = 0,   qmethod = NULL,   qtype = 7,   q_min = 0,   q_max = 1,   simplex = FALSE,   mixture = FALSE )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per_iter ‚Äî DiSCo_per_iter","text":"c_df List control units c_df.q List quantiles control units t_df List target unit idx Index permuted target unit grid_df Grids evaluate CDFs , needed mixture=TRUE M Integer indicating number control quantiles use DiSCo method. Default 1000. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per_iter ‚Äî DiSCo_per_iter","text":"List squared Wasserstein distances target unit control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_per_rank ‚Äî DiSCo_per_rank","title":"DiSCo_per_rank ‚Äî DiSCo_per_rank","text":"function ranks squared Wasserstein distances returns p-values time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_per_rank ‚Äî DiSCo_per_rank","text":"","code":"DiSCo_per_rank(distt, distp, T0)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_per_rank ‚Äî DiSCo_per_rank","text":"distt List squared Wasserstein distances target unit control units distp List squared Wasserstein distances control units","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_per_rank.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_per_rank ‚Äî DiSCo_per_rank","text":"List p-values time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":null,"dir":"Reference","previous_headings":"","what":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"Function obtaining weights DiSCo method every time period","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"","code":"DiSCo_weights_reg(   controls,   target,   M = 500,   qmethod = NULL,   qtype = 7,   simplex = FALSE,   q_min = 0,   q_max = 1 )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"controls List matrices control distributions target Matrix containing target distribution M Integer indicating number control quantiles use DiSCo method. Default 1000. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. qtype Integer, indicating type quantile compute using  quantile qmethod argument. default 7. See documentation quantile function information. simplex Logical, indicating whether use constrain optimal weights unit simplex. Default FALSE, constrains weights sum 1 allows negative. q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"Vector optimal synthetic control weights","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"Estimate optimal weights distributional synthetic controls method. solving convex minimization problem Eq. (2) Gunsilius (2023) .. using regression simulated target quantile simulated control quantiles, Eq. (3), \\(\\underset{\\vec{\\lambda} \\\\Delta^J}{\\operatorname{argmin}}\\left\\|\\mathbb{Y}_t \\vec{\\lambda}_t-\\vec{Y}_{1 t}\\right\\|_2^2\\). constrained optimization rely package pracma control distributions can given list form, list element contains vector observations given control unit, matrix form; matrix- column corresponds one unit row one observation. list-form useful, number draws control group can different. target must given vector.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/DiSCo_weights_reg.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"DiSCo_weights_reg ‚Äî DiSCo_weights_reg","text":"Gunsilius FF (2023). ‚ÄúDistributional synthetic controls.‚Äù Econometrica, 91(3), 1105‚Äì1117.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/bootCounterfactuals.html","id":null,"dir":"Reference","previous_headings":"","what":"bootCounterfactuals ‚Äî bootCounterfactuals","title":"bootCounterfactuals ‚Äî bootCounterfactuals","text":"Function computing bootstrapped counterfactuals DiSCo method","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/bootCounterfactuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"bootCounterfactuals ‚Äî bootCounterfactuals","text":"","code":"bootCounterfactuals(result_t, t, mixture, weights, evgrid, grid)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/bootCounterfactuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"bootCounterfactuals ‚Äî bootCounterfactuals","text":"result_t list containing results DiSCo_CI_iter function t current time period mixture Logical, indicating whether use mixture distributions approach instead. See Section 4.3. Gunsilius (2023) . approach minimizes distance CDFs instead quantile functions, preferred categorical variables. working variables, one also provide list support points grid.cat parameter. provided, parameter automatically set TRUE. Default FALSE. grid Grid recompute CDF mixture option chosen","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/bootCounterfactuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"bootCounterfactuals ‚Äî bootCounterfactuals","text":"list containing bootstrapped counterfactuals","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":null,"dir":"Reference","previous_headings":"","what":"checks Carry out checks on the inputs ‚Äî checks","title":"checks Carry out checks on the inputs ‚Äî checks","text":"checks Carry checks inputs","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"checks Carry out checks on the inputs ‚Äî checks","text":"","code":"checks(   df,   id_col.target,   t0,   M,   G,   num.cores,   permutation,   q_min,   q_max,   CI,   boots,   cl,   graph,   qmethod,   seed )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/checks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"checks Carry out checks on the inputs ‚Äî checks","text":"df Data frame data table containing distributional data target control units. data table contain following columns: y_col  numeric vector containing outcome variable unit. Units can individuals, states, etc., nested within larger unit (e.g. individuals counties within state) id_col  numeric vector containing aggregate IDs units. , example, state units counties individuals time_col  vector containing time period observation unit. monotonically increasing integer. id_col.target Variable indicating name target unit, specified id_col column data table. variable can type, long type id_col column data table. t0 Integer indicating period treatment. M Integer indicating number control quantiles use DiSCo method. Default 1000. G Integer indicating number grid points grid estimated functions evaluated. Default 1000. num.cores Integer, number cores use parallel computation. Default 1. permutation CI arguments set TRUE, can slow recommended set 4 , possible. get error \"cores\" similar, try setting num.cores=1 see precise error value. permutation logical, whether use permutation q_min Numeric, minimum quantile use. Set together q_max restrict range quantiles used construct synthetic control. Default 0 (quantiles). Currently implemented mixture approach. q_max Numeric, maximum quantile use. Set together q_min restrict range quantiles used construct synthetic control. Default 1 (quantiles). Currently implemented mixture approach. CI Logical, indicating whether compute confidence intervals counterfactual quantiles. Default FALSE. confidence intervals computed using bootstrap procedure described Van Dijcke et al. (2024) . boots Integer, number bootstrap samples use computing confidence intervals. Default 500. cl Numeric, confidence level (two-sided) confidence intervals. graph Logical, indicating whether plot permutation graph Figure 3 paper. Default FALSE. qmethod Character, indicating method use computing quantiles target distribution. default NULL, uses quantile function stats package. options \"qkden\" (based smoothed kernel density function) \"extreme\" (based parametric extreme value distributions). substantially slower default method may useful fat-tailed distributions data points upper quantiles. Alternatively, one use q_max option restrict range quantiles used. seed Integer, seed random number generator. needs set explicitly function call, since invoke RNGkind set seed core using parallel processes. Default NULL, set seed.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/citation.html","id":null,"dir":"Reference","previous_headings":"","what":"citation ‚Äî citation","title":"citation ‚Äî citation","text":"print citation relevant paper","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/citation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"citation ‚Äî citation","text":"","code":"citation()"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":null,"dir":"Reference","previous_headings":"","what":"Data from (Dube 2019) ‚Äî dube","title":"Data from (Dube 2019) ‚Äî dube","text":"used empirical application Gunsilius (2023) .","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data from (Dube 2019) ‚Äî dube","text":"","code":"dube"},{"path":[]},{"path":"http://www.davidvandijcke.com/DiSCo/reference/dube.html","id":"dube","dir":"Reference","previous_headings":"","what":"dube","title":"Data from (Dube 2019) ‚Äî dube","text":"data frame 652,870 rows 3 columns: id_col State FIPS time_col Year y_col adj0contpov variable Dube (2019) . Captures distribution equalized family income wages salary, defined multiples federal poverty threshold.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/ex_gmm.html","id":null,"dir":"Reference","previous_headings":"","what":"ex_gmm ‚Äî ex_gmm","title":"ex_gmm ‚Äî ex_gmm","text":"Example data DiSCo command. Returns simulated target control mixtures Gaussian distributions.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/ex_gmm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ex_gmm ‚Äî ex_gmm","text":"","code":"ex_gmm(Ts = 2, num.con = 30, numdraws = 1000)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/ex_gmm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ex_gmm ‚Äî ex_gmm","text":"Ts integer indicating number time periods num.con integer indicating number control units numdraws integer indicating number draws","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/ex_gmm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ex_gmm ‚Äî ex_gmm","text":"target vector. control matrix.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":null,"dir":"Reference","previous_headings":"","what":"getGrid ‚Äî getGrid","title":"getGrid ‚Äî getGrid","text":"Set grid estimation quantile functions CDFs","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"getGrid ‚Äî getGrid","text":"","code":"getGrid(target, controls, G)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"getGrid ‚Äî getGrid","text":"target vector containing data target unit controls list containing data control units G number grid points","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/getGrid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"getGrid ‚Äî getGrid","text":"list containing following elements: grid.min minimum value grid grid.max maximum value grid grid.rand vector containing grid points grid.ord vector containing grid points, ordered","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a vector is integer ‚Äî is.integer","title":"Check if a vector is integer ‚Äî is.integer","text":"Check vector integer","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a vector is integer ‚Äî is.integer","text":"","code":"is.integer(x)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a vector is integer ‚Äî is.integer","text":"x vector","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/is.integer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a vector is integer ‚Äî is.integer","text":"TRUE x integer, FALSE otherwise","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":null,"dir":"Reference","previous_headings":"","what":"mclapply.hack ‚Äî mclapply.hack","title":"mclapply.hack ‚Äî mclapply.hack","text":"function mimics forking (done mclapply Mac Linux) Windows environment.  Designed used just like mclapply.  Credit goes Nathan VanHoudnos.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"mclapply.hack ‚Äî mclapply.hack","text":"","code":"mclapply.hack(..., verbose = FALSE, mc.cores = 1)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/mclapply.hack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"mclapply.hack ‚Äî mclapply.hack","text":"verbose users warned hack-y? Defaults FALSE. mc.cores Number cores use. Defaults 1.","code":""},{"path":[]},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the empirical quantile function ‚Äî myQuant","title":"Compute the empirical quantile function ‚Äî myQuant","text":"Compute empirical quantile function","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the empirical quantile function ‚Äî myQuant","text":"","code":"myQuant(X, q, qtype = 7, qmethod = NULL, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the empirical quantile function ‚Äî myQuant","text":"X vector containing data q vector containing quantiles","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/myquant.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the empirical quantile function ‚Äî myQuant","text":"vector containing empirical quantile function","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/parseBoots.html","id":null,"dir":"Reference","previous_headings":"","what":"parseBoots ‚Äî parseBoots","title":"parseBoots ‚Äî parseBoots","text":"Function parsing bootstrapped counterfactuals DiSCo method","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/parseBoots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"parseBoots ‚Äî parseBoots","text":"","code":"parseBoots(CI_temp, cl, q_disco, cdf_disco, q_obs, cdf_obs, uniform = TRUE)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/parseBoots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"parseBoots ‚Äî parseBoots","text":"CI_temp list containing bootstrapped counterfactuals cl confidence level q_disco estimated quantiles around center cdf_disco estimated cdfs around center q_obs observed quantiles cdf_obs observed cdfs uniform Whether use uniform pointwise confidence intervals","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/parseBoots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"parseBoots ‚Äî parseBoots","text":"list containing confidence intervals quantiles cdfs","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":null,"dir":"Reference","previous_headings":"","what":"permut ‚Äî permut","title":"permut ‚Äî permut","text":"Object hold results permutation test","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"permut ‚Äî permut","text":"","code":"permut(distp, distt, p_overall, J_1, q_min, q_max, plot)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"permut ‚Äî permut","text":"distp List squared Wasserstein distances control units distt List squared Wasserstein distances target unit control units p_overall Overall p-value J_1 Number control units q_min Minimum quantile q_max Maximum quantile plot ggplot object containing plot squared Wasserstein distances time permutations.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"permut ‚Äî permut","text":"list class permut, elements input arguments.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot distribution of treatment effects over time ‚Äî plotDistOverTime","title":"Plot distribution of treatment effects over time ‚Äî plotDistOverTime","text":"Plot distribution treatment effects time","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot distribution of treatment effects over time ‚Äî plotDistOverTime","text":"","code":"plotDistOverTime(   cdf_centered,   grid_cdf,   t_start,   t_max,   CI,   ci_lower,   ci_upper,   ylim = c(0, 1),   xlim = NULL,   cdf = TRUE,   xlab = \"Distribution Difference\",   ylab = \"CDF\",   obsLine = NULL,   savePlots = FALSE,   plotName = NULL,   lty = 1,   lty_obs = 1,   t_plot = NULL )"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot distribution of treatment effects over time ‚Äî plotDistOverTime","text":"cdf_centered list centered distributional statistics grid_cdf grid t_start start time t_max maximum time CI logical indicating whether plot confidence intervals ci_lower lower confidence interval ci_upper upper confidence interval ylim y limits xlim x limits cdf logical indicating whether plot CDF quantile difference xlab x label ylab y label obsLine optional additional line plot. Default NULL means line plotted. savePlots logical indicating whether save plots plotName name plot save lty line type main line passed cdf_centered lty_obs line type optional additional line passed obsLine t_plot optional vector times plot. Default NULL means times plotted.","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/plotDistOverTime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot distribution of treatment effects over time ‚Äî plotDistOverTime","text":"plot distribution treatment effects time","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":null,"dir":"Reference","previous_headings":"","what":"print.permut ‚Äî print.permut","title":"print.permut ‚Äî print.permut","text":"Print permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"print.permut ‚Äî print.permut","text":"","code":"# S3 method for class 'permut' print(x, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"print.permut ‚Äî print.permut","text":"x Object class permut ... Additional arguments","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/print.permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"print.permut ‚Äî print.permut","text":"Prints permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":null,"dir":"Reference","previous_headings":"","what":"summary.DiSCoT ‚Äî summary.DiSCoT","title":"summary.DiSCoT ‚Äî summary.DiSCoT","text":"Summary DiSCoT object","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"summary.DiSCoT ‚Äî summary.DiSCoT","text":"","code":"# S3 method for class 'DiSCoT' summary(object, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"summary.DiSCoT ‚Äî summary.DiSCoT","text":"object DiSCoT object ... Additional arguments","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.DiSCoT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"summary.DiSCoT ‚Äî summary.DiSCoT","text":"summary DiSCoT object","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":null,"dir":"Reference","previous_headings":"","what":"summary.permut ‚Äî summary.permut","title":"summary.permut ‚Äî summary.permut","text":"Summarize permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"summary.permut ‚Äî summary.permut","text":"","code":"# S3 method for class 'permut' summary(object, ...)"},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"summary.permut ‚Äî summary.permut","text":"object Object class permut ... Additional arguments","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/reference/summary.permut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"summary.permut ‚Äî summary.permut","text":"Prints permutation test results","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/news/index.html","id":"discos-012","dir":"Changelog","previous_headings":"","what":"DiSCos 0.1.2","title":"DiSCos 0.1.2","text":"Compatibility ggplot 4.0.0","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/news/index.html","id":"discos-011","dir":"Changelog","previous_headings":"","what":"DiSCos 0.1.1","title":"DiSCos 0.1.1","text":"CRAN release: 2024-07-23 Corrected ORCIDs authors","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/news/index.html","id":"discos-010","dir":"Changelog","previous_headings":"","what":"DiSCos 0.1.0","title":"DiSCos 0.1.0","text":"CRAN release: 2024-05-13 Major updates: * Implemented fully-fledged bootstrap approach confidence interval estimation. See Van Dijcke, Gunsilius, Wright (2024) * Added mixture distributions method CDFs, confidence intervals, permutation test Minor updates: * Fixed small issue plot=FALSE option didn‚Äôt work DiSCoTEA * Added option supply ordinal vector discrete points mixture distributions","code":""},{"path":"http://www.davidvandijcke.com/DiSCo/news/index.html","id":"discos-001","dir":"Changelog","previous_headings":"","what":"DiSCos 0.0.1","title":"DiSCos 0.0.1","text":"CRAN release: 2024-03-14 First version package, basic DiSco function estimating counterfactual quantile function, resampling-based CIs, permutation test; DiSCo_TEA function various aggregation schemes.","code":""}]
